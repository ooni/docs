{"openapi": "3.1.0", "info": {"title": "OONI Findings", "version": "0.0.1"}, "paths": {"/api/v1/incidents/search": {"get": {"tags": ["oonifindings"], "summary": "List Oonifindings", "description": "Search and list incidents", "operationId": "list_oonifindings_api_v1_incidents_search_get", "parameters": [{"name": "only_mine", "in": "query", "required": false, "schema": {"type": "boolean", "description": "show only owned items", "default": false, "title": "Only Mine"}, "description": "show only owned items"}, {"name": "theme", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "description": "The theme key to filter by", "title": "Theme"}, "description": "The theme key to filter by"}, {"name": "country_code", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "description": "The country code to filter by", "title": "Country Code"}, "description": "The country code to filter by"}, {"name": "asn", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "description": "The asn to filter by", "title": "Asn"}, "description": "The asn to filter by"}, {"name": "domain", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "description": "The domain to filter by", "title": "Domain"}, "description": "The domain to filter by"}, {"name": "authorization", "in": "header", "required": false, "schema": {"type": "string", "default": "authorization", "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingIncidents"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/incidents/show/{finding_id}": {"get": {"tags": ["oonifindings"], "summary": "Get Oonifinding By Id", "description": "Returns an incident", "operationId": "get_oonifinding_by_id_api_v1_incidents_show__finding_id__get", "parameters": [{"name": "finding_id", "in": "path", "required": true, "schema": {"type": "string", "title": "Finding Id"}}, {"name": "authorization", "in": "header", "required": false, "schema": {"type": "string", "default": "authorization", "title": "Authorization"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingIncident"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/incidents/create": {"post": {"tags": ["oonifindings"], "summary": "Create Oonifinding", "description": "Create an incident", "operationId": "create_oonifinding_api_v1_incidents_create_post", "parameters": [{"name": "authorization", "in": "header", "required": false, "schema": {"type": "string", "default": "authorization", "title": "Authorization"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingCreateUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingsUpdateResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/incidents/update": {"post": {"tags": ["oonifindings"], "summary": "Update Oonifinding", "description": "Update an incident", "operationId": "update_oonifinding_api_v1_incidents_update_post", "parameters": [{"name": "authorization", "in": "header", "required": false, "schema": {"type": "string", "default": "authorization", "title": "Authorization"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingCreateUpdate"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingsUpdateResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/incidents/delete": {"post": {"tags": ["oonifindings"], "summary": "Delete Oonifinding", "description": "Delete an incident", "operationId": "delete_oonifinding_api_v1_incidents_delete_post", "parameters": [{"name": "authorization", "in": "header", "required": false, "schema": {"type": "string", "default": "authorization", "title": "Authorization"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingWithMail"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/incidents/{action}": {"post": {"tags": ["oonifindings"], "summary": "Update Oonifinding Publish Status", "description": "Publish/Unpublish an incident.", "operationId": "update_oonifinding_publish_status_api_v1_incidents__action__post", "parameters": [{"name": "action", "in": "path", "required": true, "schema": {"type": "string", "title": "Action"}}, {"name": "authorization", "in": "header", "required": false, "schema": {"type": "string", "default": "authorization", "title": "Authorization"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingId"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OONIFindingsUpdateResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/analysis": {"get": {"tags": ["analysis", "list_data"], "summary": "List Measurements", "operationId": "list_measurements_api_v1_analysis_get", "parameters": [{"name": "measurement_uid", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Measurement Uid"}}, {"name": "probe_asn", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer"}, {"type": "string"}, {"type": "null"}], "title": "Probe Asn"}}, {"name": "probe_cc", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "minLength": 2, "maxLength": 2}, {"type": "null"}], "title": "Probe Cc"}}, {"name": "test_name", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Test Name"}}, {"name": "since", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "string", "format": "date-time"}], "default": "2024-10-28T00:00:00", "title": "Since"}}, {"name": "until", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "string", "format": "date-time"}], "default": "2024-11-27T00:00:00", "title": "Until"}}, {"name": "order_by", "in": "query", "required": false, "schema": {"enum": ["measurement_start_time", "input", "probe_cc", "probe_asn", "test_name"], "type": "string", "default": "measurement_start_time", "title": "Order By"}}, {"name": "order", "in": "query", "required": false, "schema": {"anyOf": [{"enum": ["asc", "desc", "ASC", "DESC"], "type": "string"}, {"type": "null"}], "default": "DESC", "title": "Order"}}, {"name": "offset", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Offset"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}, {"name": "ooni_run_link_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ooni Run Link Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ListAnalysisResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/observations": {"get": {"tags": ["observations", "list_data"], "summary": "List Observations", "operationId": "list_observations_api_v1_observations_get", "parameters": [{"name": "report_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Report Id"}}, {"name": "probe_asn", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer"}, {"type": "string"}, {"type": "null"}], "title": "Probe Asn"}}, {"name": "probe_cc", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "minLength": 2, "maxLength": 2}, {"type": "null"}], "title": "Probe Cc"}}, {"name": "test_name", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Test Name"}}, {"name": "since", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Since"}}, {"name": "until", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "format": "date"}, {"type": "null"}], "title": "Until"}}, {"name": "order_by", "in": "query", "required": false, "schema": {"enum": ["measurement_start_time", "input", "probe_cc", "probe_asn", "test_name"], "type": "string", "default": "measurement_start_time", "title": "Order By"}}, {"name": "order", "in": "query", "required": false, "schema": {"anyOf": [{"enum": ["asc", "desc", "ASC", "DESC"], "type": "string"}, {"type": "null"}], "default": "DESC", "title": "Order"}}, {"name": "offset", "in": "query", "required": false, "schema": {"type": "integer", "default": 0, "title": "Offset"}}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "default": 100, "title": "Limit"}}, {"name": "software_name", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Software Name"}}, {"name": "software_version", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Software Version"}}, {"name": "test_version", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Test Version"}}, {"name": "engine_version", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Engine Version"}}, {"name": "ooni_run_link_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ooni Run Link Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ListObservationsResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/aggregation/observations": {"get": {"tags": ["aggregation", "observations"], "summary": "Get Aggregation Observations", "operationId": "get_aggregation_observations_api_v1_aggregation_observations_get", "parameters": [{"name": "group_by", "in": "query", "required": false, "schema": {"type": "array", "items": {"enum": ["timestamp", "failure", "hostname", "ip", "probe_cc", "probe_asn", "test_name"], "type": "string"}, "default": ["failure"], "title": "Group By"}}, {"name": "test_name", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "title": "Test Name"}}, {"name": "hostname", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "title": "Hostname"}}, {"name": "probe_asn", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "integer"}}, {"type": "null"}], "title": "Probe Asn"}}, {"name": "probe_cc", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "title": "Probe Cc"}}, {"name": "ip", "in": "query", "required": false, "schema": {"anyOf": [{"type": "array", "items": {"type": "string"}}, {"type": "null"}], "title": "Ip"}}, {"name": "ooni_run_link_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ooni Run Link Id"}}, {"name": "since", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "string", "format": "date-time"}], "default": "2024-10-28T00:00:00", "title": "Since"}}, {"name": "until", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "string", "format": "date-time"}], "default": "2024-11-27T00:00:00", "title": "Until"}}, {"name": "time_grain", "in": "query", "required": false, "schema": {"enum": ["hour", "day", "week", "month", "year", "auto"], "type": "string", "default": "day", "title": "Time Grain"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/oonifindings__routers__data__aggregate_observations__AggregationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/aggregation/analysis": {"get": {"tags": ["aggregation", "analysis"], "summary": "Get Aggregation Analysis", "operationId": "get_aggregation_analysis_api_v1_aggregation_analysis_get", "parameters": [{"name": "axis_x", "in": "query", "required": false, "schema": {"enum": ["measurement_start_day", "domain", "probe_cc", "probe_asn", "test_name"], "type": "string", "default": "measurement_start_day", "title": "Axis X"}}, {"name": "axis_y", "in": "query", "required": false, "schema": {"anyOf": [{"enum": ["measurement_start_day", "domain", "probe_cc", "probe_asn", "test_name"], "type": "string"}, {"type": "null"}], "title": "Axis Y"}}, {"name": "category_code", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Category Code"}}, {"name": "test_name", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Test Name"}}, {"name": "domain", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Domain"}}, {"name": "input", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Input"}}, {"name": "probe_asn", "in": "query", "required": false, "schema": {"anyOf": [{"type": "integer"}, {"type": "string"}, {"type": "null"}], "title": "Probe Asn"}}, {"name": "probe_cc", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string", "minLength": 2, "maxLength": 2}, {"type": "null"}], "title": "Probe Cc"}}, {"name": "ooni_run_link_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ooni Run Link Id"}}, {"name": "since", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "string", "format": "date-time"}], "default": "2024-10-28T00:00:00", "title": "Since"}}, {"name": "until", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "string", "format": "date-time"}], "default": "2024-11-27T00:00:00", "title": "Until"}}, {"name": "time_grain", "in": "query", "required": false, "schema": {"enum": ["hour", "day", "week", "month", "year", "auto"], "type": "string", "default": "day", "title": "Time Grain"}}, {"name": "anomaly_sensitivity", "in": "query", "required": false, "schema": {"type": "number", "default": 0.9, "title": "Anomaly Sensitivity"}}, {"name": "format", "in": "query", "required": false, "schema": {"enum": ["JSON", "CSV"], "type": "string", "default": "JSON", "title": "Format"}}, {"name": "download", "in": "query", "required": false, "schema": {"type": "boolean", "default": false, "title": "Download"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/oonifindings__routers__data__aggregate_analysis__AggregationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/version": {"get": {"summary": "Version", "operationId": "version_version_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/health": {"get": {"summary": "Health", "operationId": "health_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/": {"get": {"summary": "Root", "operationId": "root__get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"AnalysisEntry": {"properties": {"measurement_uid": {"type": "string", "title": "Measurement Uid"}, "measurement_start_time": {"type": "string", "format": "date-time", "title": "Measurement Start Time"}, "network_type": {"type": "string", "title": "Network Type"}, "probe_asn": {"type": "integer", "title": "Probe Asn"}, "probe_cc": {"type": "string", "title": "Probe Cc"}, "probe_as_org_name": {"type": "string", "title": "Probe As Org Name"}, "resolver_asn": {"type": "integer", "title": "Resolver Asn"}, "resolver_as_cc": {"type": "string", "title": "Resolver As Cc"}, "domain": {"type": "string", "title": "Domain"}, "input": {"type": "string", "title": "Input"}, "test_name": {"type": "string", "title": "Test Name"}, "top_probe_analysis": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Top Probe Analysis"}, "top_dns_failure": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Top Dns Failure"}, "top_tcp_failure": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Top Tcp Failure"}, "top_tls_failure": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Top Tls Failure"}, "dns_blocked_max": {"type": "number", "title": "Dns Blocked Max"}, "dns_down_max": {"type": "number", "title": "Dns Down Max"}, "dns_ok_max": {"type": "number", "title": "Dns Ok Max"}, "tcp_blocked_max": {"type": "number", "title": "Tcp Blocked Max"}, "tcp_down_max": {"type": "number", "title": "Tcp Down Max"}, "tcp_ok_max": {"type": "number", "title": "Tcp Ok Max"}, "tls_blocked_max": {"type": "number", "title": "Tls Blocked Max"}, "tls_down_max": {"type": "number", "title": "Tls Down Max"}, "tls_ok_max": {"type": "number", "title": "Tls Ok Max"}}, "type": "object", "required": ["measurement_uid", "measurement_start_time", "network_type", "probe_asn", "probe_cc", "probe_as_org_name", "resolver_asn", "resolver_as_cc", "domain", "input", "test_name", "top_probe_analysis", "top_dns_failure", "top_tcp_failure", "top_tls_failure", "dns_blocked_max", "dns_down_max", "dns_ok_max", "tcp_blocked_max", "tcp_down_max", "tcp_ok_max", "tls_blocked_max", "tls_down_max", "tls_ok_max"], "title": "AnalysisEntry"}, "BaseModel": {"properties": {}, "type": "object", "title": "BaseModel"}, "DBStats": {"properties": {"bytes": {"type": "integer", "title": "Bytes"}, "elapsed_seconds": {"type": "number", "title": "Elapsed Seconds"}, "row_count": {"type": "integer", "title": "Row Count"}, "total_row_count": {"type": "integer", "title": "Total Row Count"}}, "type": "object", "required": ["bytes", "elapsed_seconds", "row_count", "total_row_count"], "title": "DBStats"}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "ListAnalysisResponse": {"properties": {"metadata": {"$ref": "#/components/schemas/ResponseMetadata"}, "results": {"items": {"$ref": "#/components/schemas/AnalysisEntry"}, "type": "array", "title": "Results"}}, "type": "object", "required": ["metadata", "results"], "title": "ListAnalysisResponse"}, "ListObservationsResponse": {"properties": {"metadata": {"$ref": "#/components/schemas/ResponseMetadata"}, "results": {"items": {"anyOf": [{"$ref": "#/components/schemas/WebObservationEntry"}, {"$ref": "#/components/schemas/BaseModel"}]}, "type": "array", "title": "Results"}}, "type": "object", "required": ["metadata", "results"], "title": "ListObservationsResponse"}, "OONIFinding": {"properties": {"id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}, "email_address": {"type": "string", "title": "email address of user", "default": ""}, "title": {"type": "string", "title": "title of the ooni finding"}, "short_description": {"type": "string", "title": "short description of the oonifinding report", "default": ""}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "slug used to access the OONI Finding"}, "start_time": {"type": "string", "format": "date-time", "title": "date when the oonifinding incident started"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "date when the oonifinding report was created"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "time when the oonifinding report was last updated"}, "end_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "time when the oonifinding incident ended"}, "reported_by": {"type": "string", "title": "name of the oonifinding reporter", "default": ""}, "creator_account_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "account id of the oonifinding report creator", "default": ""}, "published": {"type": "boolean", "title": "binary check if event is published", "default": false}, "event_type": {"type": "string", "title": "type of oonifinding event", "default": ""}, "ASNs": {"items": {"type": "integer"}, "type": "array", "title": "Asns", "description": "list of ASNs associate with the oonifinding", "default": []}, "CCs": {"items": {"type": "string"}, "type": "array", "title": "Ccs", "description": "list of country codes associated with the oonifinding", "default": []}, "themes": {"items": {"type": "string"}, "type": "array", "title": "Themes", "description": "list of themes related to this oonifinding", "default": []}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags", "description": "tags associated with the oonifinding", "default": []}, "test_names": {"items": {"type": "string"}, "type": "array", "title": "Test Names", "description": "ooni tests associated with the oonifinding", "default": []}, "domains": {"items": {"type": "string"}, "type": "array", "title": "Domains", "description": "list of domains associated with the oonifinding", "default": []}, "links": {"items": {"type": "string"}, "type": "array", "title": "Links", "description": "links associated with the oonifinding", "default": []}, "mine": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "check if creator account id matches user", "default": false}}, "type": "object", "required": ["title", "start_time"], "title": "OONIFinding"}, "OONIFindingCreateUpdate": {"properties": {"id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}, "email_address": {"type": "string", "title": "email address of user", "default": ""}, "title": {"type": "string", "title": "title of the ooni finding"}, "short_description": {"type": "string", "title": "short description of the oonifinding report", "default": ""}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "slug used to access the OONI Finding"}, "start_time": {"type": "string", "format": "date-time", "title": "date when the oonifinding incident started"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "date when the oonifinding report was created"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "time when the oonifinding report was last updated"}, "end_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "time when the oonifinding incident ended"}, "reported_by": {"type": "string", "title": "name of the oonifinding reporter", "default": ""}, "creator_account_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "account id of the oonifinding report creator", "default": ""}, "published": {"type": "boolean", "title": "binary check if event is published", "default": false}, "event_type": {"type": "string", "title": "type of oonifinding event", "default": ""}, "ASNs": {"items": {"type": "integer"}, "type": "array", "title": "Asns", "description": "list of ASNs associate with the oonifinding", "default": []}, "CCs": {"items": {"type": "string"}, "type": "array", "title": "Ccs", "description": "list of country codes associated with the oonifinding", "default": []}, "themes": {"items": {"type": "string"}, "type": "array", "title": "Themes", "description": "list of themes related to this oonifinding", "default": []}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags", "description": "tags associated with the oonifinding", "default": []}, "test_names": {"items": {"type": "string"}, "type": "array", "title": "Test Names", "description": "ooni tests associated with the oonifinding", "default": []}, "domains": {"items": {"type": "string"}, "type": "array", "title": "Domains", "description": "list of domains associated with the oonifinding", "default": []}, "links": {"items": {"type": "string"}, "type": "array", "title": "Links", "description": "links associated with the oonifinding", "default": []}, "mine": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "check if creator account id matches user", "default": false}, "text": {"type": "string", "title": "content of the oonifinding report"}}, "type": "object", "required": ["title", "start_time", "text"], "title": "OONIFindingCreateUpdate"}, "OONIFindingId": {"properties": {"id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}}, "type": "object", "title": "OONIFindingId"}, "OONIFindingIncident": {"properties": {"incident": {"$ref": "#/components/schemas/OONIFindingWithText"}}, "type": "object", "required": ["incident"], "title": "OONIFindingIncident"}, "OONIFindingIncidents": {"properties": {"incidents": {"items": {"$ref": "#/components/schemas/OONIFinding"}, "type": "array", "title": "Incidents"}}, "type": "object", "required": ["incidents"], "title": "OONIFindingIncidents"}, "OONIFindingWithMail": {"properties": {"id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}, "email_address": {"type": "string", "title": "email address of user", "default": ""}}, "type": "object", "title": "OONIFindingWithMail"}, "OONIFindingWithText": {"properties": {"id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}, "email_address": {"type": "string", "title": "email address of user", "default": ""}, "title": {"type": "string", "title": "title of the ooni finding"}, "short_description": {"type": "string", "title": "short description of the oonifinding report", "default": ""}, "slug": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "slug used to access the OONI Finding"}, "start_time": {"type": "string", "format": "date-time", "title": "date when the oonifinding incident started"}, "create_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "date when the oonifinding report was created"}, "update_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "time when the oonifinding report was last updated"}, "end_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "time when the oonifinding incident ended"}, "reported_by": {"type": "string", "title": "name of the oonifinding reporter", "default": ""}, "creator_account_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "account id of the oonifinding report creator", "default": ""}, "published": {"type": "boolean", "title": "binary check if event is published", "default": false}, "event_type": {"type": "string", "title": "type of oonifinding event", "default": ""}, "ASNs": {"items": {"type": "integer"}, "type": "array", "title": "Asns", "description": "list of ASNs associate with the oonifinding", "default": []}, "CCs": {"items": {"type": "string"}, "type": "array", "title": "Ccs", "description": "list of country codes associated with the oonifinding", "default": []}, "themes": {"items": {"type": "string"}, "type": "array", "title": "Themes", "description": "list of themes related to this oonifinding", "default": []}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags", "description": "tags associated with the oonifinding", "default": []}, "test_names": {"items": {"type": "string"}, "type": "array", "title": "Test Names", "description": "ooni tests associated with the oonifinding", "default": []}, "domains": {"items": {"type": "string"}, "type": "array", "title": "Domains", "description": "list of domains associated with the oonifinding", "default": []}, "links": {"items": {"type": "string"}, "type": "array", "title": "Links", "description": "links associated with the oonifinding", "default": []}, "mine": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "check if creator account id matches user", "default": false}, "text": {"type": "string", "title": "content of the oonifinding report"}}, "type": "object", "required": ["title", "start_time", "text"], "title": "OONIFindingWithText"}, "OONIFindingsUpdateResponse": {"properties": {"id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Id"}, "r": {"anyOf": [{"type": "integer"}, {"prefixItems": [{"items": {}, "type": "array"}], "type": "array", "maxItems": 1, "minItems": 1}], "title": "result of the update operation", "default": 0}}, "type": "object", "title": "OONIFindingsUpdateResponse"}, "ResponseMetadata": {"properties": {"count": {"type": "integer", "title": "Count"}, "current_page": {"type": "integer", "title": "Current Page"}, "limit": {"type": "integer", "title": "Limit"}, "next_url": {"type": "string", "title": "Next Url"}, "offset": {"type": "integer", "title": "Offset"}, "pages": {"type": "integer", "title": "Pages"}, "query_time": {"type": "number", "title": "Query Time"}}, "type": "object", "required": ["count", "current_page", "limit", "next_url", "offset", "pages", "query_time"], "title": "ResponseMetadata"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}, "WebObservationEntry": {"properties": {"measurement_uid": {"type": "string", "title": "Measurement Uid"}, "input": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Input"}, "report_id": {"type": "string", "title": "Report Id"}, "ooni_run_link_id": {"type": "string", "title": "Ooni Run Link Id"}, "measurement_start_time": {"type": "string", "format": "date-time", "title": "Measurement Start Time"}, "software_name": {"type": "string", "title": "Software Name"}, "software_version": {"type": "string", "title": "Software Version"}, "test_name": {"type": "string", "title": "Test Name"}, "test_version": {"type": "string", "title": "Test Version"}, "bucket_date": {"type": "string", "title": "Bucket Date"}, "probe_asn": {"type": "integer", "title": "Probe Asn"}, "probe_cc": {"type": "string", "title": "Probe Cc"}, "probe_as_org_name": {"type": "string", "title": "Probe As Org Name"}, "probe_as_cc": {"type": "string", "title": "Probe As Cc"}, "probe_as_name": {"type": "string", "title": "Probe As Name"}, "network_type": {"type": "string", "title": "Network Type"}, "platform": {"type": "string", "title": "Platform"}, "origin": {"type": "string", "title": "Origin"}, "engine_name": {"type": "string", "title": "Engine Name"}, "engine_version": {"type": "string", "title": "Engine Version"}, "architecture": {"type": "string", "title": "Architecture"}, "resolver_ip": {"type": "string", "title": "Resolver Ip"}, "resolver_asn": {"type": "integer", "title": "Resolver Asn"}, "resolver_cc": {"type": "string", "title": "Resolver Cc"}, "resolver_as_org_name": {"type": "string", "title": "Resolver As Org Name"}, "resolver_as_cc": {"type": "string", "title": "Resolver As Cc"}, "observation_idx": {"type": "integer", "title": "Observation Idx", "default": 0}, "created_at": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created At"}, "target_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Target Id"}, "hostname": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Hostname"}, "transaction_id": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Transaction Id"}, "ip": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ip"}, "port": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Port"}, "ip_asn": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Ip Asn"}, "ip_as_org_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ip As Org Name"}, "ip_as_cc": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ip As Cc"}, "ip_cc": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ip Cc"}, "ip_is_bogon": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Ip Is Bogon"}, "dns_query_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dns Query Type"}, "dns_failure": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dns Failure"}, "dns_engine": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dns Engine"}, "dns_engine_resolver_address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dns Engine Resolver Address"}, "dns_answer_type": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dns Answer Type"}, "dns_answer": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dns Answer"}, "dns_answer_asn": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Dns Answer Asn"}, "dns_answer_as_org_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Dns Answer As Org Name"}, "dns_t": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Dns T"}, "tcp_failure": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tcp Failure"}, "tcp_success": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Tcp Success"}, "tcp_t": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Tcp T"}, "tls_failure": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls Failure"}, "tls_server_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls Server Name"}, "tls_outer_server_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls Outer Server Name"}, "tls_echconfig": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls Echconfig"}, "tls_version": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls Version"}, "tls_cipher_suite": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls Cipher Suite"}, "tls_is_certificate_valid": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Tls Is Certificate Valid"}, "tls_end_entity_certificate_fingerprint": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls End Entity Certificate Fingerprint"}, "tls_end_entity_certificate_subject": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls End Entity Certificate Subject"}, "tls_end_entity_certificate_subject_common_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls End Entity Certificate Subject Common Name"}, "tls_end_entity_certificate_issuer": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls End Entity Certificate Issuer"}, "tls_end_entity_certificate_issuer_common_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls End Entity Certificate Issuer Common Name"}, "tls_end_entity_certificate_san_list": {"items": {"type": "string"}, "type": "array", "title": "Tls End Entity Certificate San List"}, "tls_end_entity_certificate_not_valid_after": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Tls End Entity Certificate Not Valid After"}, "tls_end_entity_certificate_not_valid_before": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Tls End Entity Certificate Not Valid Before"}, "tls_certificate_chain_length": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Tls Certificate Chain Length"}, "tls_certificate_chain_fingerprints": {"items": {"type": "string"}, "type": "array", "title": "Tls Certificate Chain Fingerprints"}, "tls_handshake_read_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Tls Handshake Read Count"}, "tls_handshake_write_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Tls Handshake Write Count"}, "tls_handshake_read_bytes": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Tls Handshake Read Bytes"}, "tls_handshake_write_bytes": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Tls Handshake Write Bytes"}, "tls_handshake_last_operation": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tls Handshake Last Operation"}, "tls_handshake_time": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Tls Handshake Time"}, "tls_t": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Tls T"}, "http_request_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Request Url"}, "http_network": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Network"}, "http_alpn": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Alpn"}, "http_failure": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Failure"}, "http_request_body_length": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Http Request Body Length"}, "http_request_method": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Request Method"}, "http_runtime": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Http Runtime"}, "http_response_body_length": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Http Response Body Length"}, "http_response_body_is_truncated": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Http Response Body Is Truncated"}, "http_response_body_sha1": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Response Body Sha1"}, "http_response_status_code": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Http Response Status Code"}, "http_response_header_location": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Response Header Location"}, "http_response_header_server": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Response Header Server"}, "http_request_redirect_from": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Http Request Redirect From"}, "http_request_body_is_truncated": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Http Request Body Is Truncated"}, "http_t": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Http T"}, "probe_analysis": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Probe Analysis"}}, "type": "object", "required": ["measurement_uid", "input", "report_id", "ooni_run_link_id", "measurement_start_time", "software_name", "software_version", "test_name", "test_version", "bucket_date", "probe_asn", "probe_cc", "probe_as_org_name", "probe_as_cc", "probe_as_name", "network_type", "platform", "origin", "engine_name", "engine_version", "architecture", "resolver_ip", "resolver_asn", "resolver_cc", "resolver_as_org_name", "resolver_as_cc"], "title": "WebObservationEntry"}, "oonifindings__routers__data__aggregate_analysis__AggregationEntry": {"properties": {"anomaly_count": {"type": "number", "title": "Anomaly Count"}, "confirmed_count": {"type": "number", "title": "Confirmed Count"}, "failure_count": {"type": "number", "title": "Failure Count"}, "ok_count": {"type": "number", "title": "Ok Count"}, "measurement_count": {"type": "number", "title": "Measurement Count"}, "measurement_start_day": {"type": "string", "format": "date", "title": "Measurement Start Day"}, "outcome_label": {"type": "string", "title": "Outcome Label"}, "outcome_value": {"type": "number", "title": "Outcome Value"}, "domain": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Domain"}, "probe_cc": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Probe Cc"}, "probe_asn": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Probe Asn"}}, "type": "object", "required": ["anomaly_count", "confirmed_count", "failure_count", "ok_count", "measurement_count", "measurement_start_day", "outcome_label", "outcome_value"], "title": "AggregationEntry"}, "oonifindings__routers__data__aggregate_analysis__AggregationResponse": {"properties": {"db_stats": {"$ref": "#/components/schemas/DBStats"}, "dimension_count": {"type": "integer", "title": "Dimension Count"}, "result": {"items": {"$ref": "#/components/schemas/oonifindings__routers__data__aggregate_analysis__AggregationEntry"}, "type": "array", "title": "Result"}}, "type": "object", "required": ["db_stats", "dimension_count", "result"], "title": "AggregationResponse"}, "oonifindings__routers__data__aggregate_observations__AggregationEntry": {"properties": {"observation_count": {"type": "integer", "title": "Observation Count"}, "failure": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Failure"}, "ip": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Ip"}, "hostname": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Hostname"}, "probe_cc": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Probe Cc"}, "probe_asn": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Probe Asn"}, "test_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Test Name"}, "timestamp": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Timestamp"}}, "type": "object", "required": ["observation_count"], "title": "AggregationEntry"}, "oonifindings__routers__data__aggregate_observations__AggregationResponse": {"properties": {"aggregation": {"items": {"$ref": "#/components/schemas/oonifindings__routers__data__aggregate_observations__AggregationEntry"}, "type": "array", "title": "Aggregation"}}, "type": "object", "required": ["aggregation"], "title": "AggregationResponse"}}}}
